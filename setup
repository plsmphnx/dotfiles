#!/bin/sh
SCRIPT=$(cd "$(dirname "$0")" && pwd)
. $SCRIPT/.zshenv

mkdir -p $XDG_CONFIG_HOME && cd $XDG_CONFIG_HOME
for CONF in $SCRIPT/.config/*; do ln -s $CONF; done
cd ~

mkdir -p $XDG_DATA_HOME && cd $XDG_DATA_HOME
git clone https://github.com/scopatz/nanorc nano
link_data() {
    mkdir -p $1 && cd $1
    for DATA in $2; do ln -s $SCRIPT/.data/$1/$DATA; done
    cd ..
}
link_data tmux "theme.conf"
link_data zsh "color.zsh highlight.zsh prompt.zsh title-path.zsh"
cd ~

mkdir -p .local/bin && cd .local/bin
for BIN in $SCRIPT/.bin/*; do ln -s $BIN; done
cd ~

mkdir -p .ssh && cd .ssh
ln -s $SCRIPT/.ssh/config
cd ~

ln -s $SCRIPT/.zshenv

chsh -s /bin/zsh
