#!/bin/sh
case $1 in
    cruft)
        if [ "$2" = "all" ]
        then
            cruft-ng | grep -Ev '^ +([^ /])'
        else
            cruft-ng | grep -Ev '^ +([^ /]|/boot|/var)'
        fi
        ;;
    files)
        debsums -acs
        ;;
    installed)
        if [ "$2" = "all" ]
        then
            aptitude search '(~poptional|~pextra) ~i !~slibs'
        else
            aptitude search '(~poptional|~pextra) ~i !~R~i'
        fi
        ;;
    missing)
        if [ "$2" = "install" ]
        then
            aptitude install '!~poptional !~pextra !~slibs !~v !~i'
        else
            aptitude search '!~poptional !~pextra !~slibs !~v !~i'
        fi
        ;;
esac
